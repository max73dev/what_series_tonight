<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
    />
    <title>What series tonight?</title>
    <script>
      let serieTv = [];
      serieTv.push({
        title: "La casa di carta",
        original_title: "La casa de papel",
        description:
          "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
        img:
          "https://nssdata.s3.amazonaws.com/images/galleries/16184/la-casa-de-papel-cover(1).jpg",
        year: 2017,
        rating: 6,
      });
      serieTv.push({
        title: "Breaking Bad",
        original_title: "Breaking Bad",
        description:
          "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
        img:
          "https://images.everyeye.it/img-articoli/breaking-bad-storia-successo-importanza-serie-vince-gilligan-v5-47057.jpg",
        year: 2014,
        rating: 8,
      });
      serieTv.push({
        title: "Dexter",
        original_title: "Dexter",
        description: "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        img:
          "https://images-na.ssl-images-amazon.com/images/S/sgp-catalog-images/region_GLOBAL/showtime-DEXTER_7_IN-Full-Image_GalleryCover-in-IN-1480722420784._UY500_UX667_RI_Vi9lf7sr8wLDSEjVVFRWg3DD2hS8MQVP5_TTW_.jpg",
        year: 2010,
        rating: 7,
      });
      function getRandomSeries(allSeries) {
        return allSeries[getRandomInt(allSeries.length)];
      }
      function getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max));
      }
      function shuffle(serieTv) {
        let serieSelezionata = getRandomSeries(serieTv);
        // console.log(serieSelezionata);
        let serie_selected = [];
        serie_selected.push(serieSelezionata);
        console.log(serie_selected);
        let title_holder = document.querySelectorAll(
          "#random_choice .card-title h2"
        );
        let title_orig_holder = document.querySelectorAll(
          "card-body h2 .card-title-orig"
        );        
        let description_holder = document.querySelectorAll(
          ".card-body .card-text"
        );
        let anno_holder = document.querySelectorAll(
          ".card-body .card-anno"
        );        
        let url_holder = document.querySelectorAll("#random_choice img");
        let rating_holder = document.querySelectorAll(
          "#random_choice #rating_choice"
        );
        title_holder[0].innerText = serieSelezionata.title;
        title_orig_holder[0].innerText = serieSelezionata.original_title;
        description_holder[0].innerText = serieSelezionata.description;
        anno_holder[0].innerText = serieSelezionata.year;
        url_holder[0].src = serieSelezionata.img;
        rating_holder[0].innerText = "Voto " + serieSelezionata.rating;
        // console.log(title_holder[0]);
      }

      document.addEventListener(
        "DOMContentLoaded",
        function () {
          shuffle(serieTv);
          let button = document.getElementById("my-button");
          button.addEventListener("click", () => {
            shuffle(serieTv);
          });
        },
        false
      );
    </script>
  </head>
  <body>
    <section>
      <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
          <a class="navbar-brand" href="#">What series tonight?</a>
        </nav>
      </div>
    </section>
    <main>
      <div class="container text-center mt-3">
        <h3>
          Con questa app non dovrai pi√π perdere tempo nel cercare una serie da
          guardare. Lasciati ispirare e clicca sul bottone per cominciare a
          vedere la tua nuova serie!
        </h3>
      </div>
      <div class="container mt-3" style="margin-top: 30px; height: 80vh;">
        <div class="row">
          <div class="col-md">
            <div
              class="card text-center border border-primary"
              style="
                margin: 0 auto;
                width: 30rem;
                height: 100%;
                position: relative;
              "
              id="random_choice"
            >
              <button
                id="my-button"
                class="btn btn-primary"
                style="padding: 20px 0;"
              >
                CLICCA e trova una serie da guardare!
              </button>
              <div
                id="rating_choice"
                style="
                  padding: 10px;
                  background-color: white;
                  position: absolute;
                  top: 30px;
                  right: 0;
                  z-index: 0;
                "
              >
                Voto
              </div>
              <img src="pippo.jpg" class="card-img-top" />
              <div class="card-title">
                <h2>titolo</h2>
              </div>
            </div>
          </div>
          <div class="col-md">
             <div class="card-body">
              <h2 class="card-title-orig">titolo</h2>               
               <h4>Anno:</h4>
               <p class="card-anno"></p>
               <br />
               <h4>Descrizione serie</h4>
               <p class="card-text"></p>
             </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
